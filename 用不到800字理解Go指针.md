# 用不到800字理解Go指针

这篇文章是为**刚接触 Go、对指针感到困惑的人**写的。

如果你之前使用的是 Python、Java、Ruby 这类语言，那么 Go 的指针可能看起来有点奇怪。

但实际上，**Go 的指针非常简单**。

## **什么是指针？**

**指针是一个值，这个值指向另一个值所在的内存地址。**

## **什么是内存？**

计算机内存（RAM）可以被看作是一排首尾相接的盒子。

每个盒子（或称为单元）都有一个唯一的编号，并且这个编号是按顺序递增的；

这个编号就是该单元的地址，也就是它在内存中的位置。

![](https://www.helloimg.com/i/2026/01/04/6959d9a3af8be.png)

每个内存单元只保存一个值。

如果你知道某个单元的内存地址，就可以定位到该单元并读取其中的内容。

你也可以向这个单元写入一个新值，覆盖之前存放在那里的任何内容。

关于内存，基本就这么多。

CPU 所做的一切，本质上都是在内存单元之间 **读取（fetch）和写入（deposit）值**。

## 什么是变量？

要编写一个程序，从内存地址 **200** 中取出值，将其乘以 **3**，再把结果写入内存地址 **201**，我们可以用如下伪代码来表示：

- 取出存储在地址 200 中的值，并放入 CPU 中。
- 将 CPU 中的值乘以 3。
- 将 CPU 中的值写入内存地址 201。

![](https://www.helloimg.com/i/2026/01/04/6959d9a55bb8b.png)

这正是早期程序的编写方式；程序员需要维护一份内存地址清单，记录每个地址由谁使用、什么时候使用，以及该地址中存储的值代表什么含义。

显然，这种方式既繁琐又容易出错，而且意味着在编写程序时，**内存中每一个可能存储的值都必须事先分配好地址**。

更糟糕的是，这种模式几乎无法支持程序运行过程中动态分配存储空间——试想一下，如果你只能使用全局变量来编写大型程序，会是怎样的灾难。

为了解决这个问题，**变量（variable）** 的概念诞生了。

变量本质上只是内存地址的一个方便使用的 **字母数字形式的化名**——一个标签，或者说昵称。

这样一来，我们就不必再直接讨论内存地址，而是可以通过变量来交流；变量只是我们赋予某个内存位置的名字。

因此，前面的程序现在可以这样来表达：

![](https://www.helloimg.com/i/2026/01/04/6959db3395dd6.png)

``````
1. 从变量 a 中取出存储的值，并放入 CPU。
2. 将该值乘以 3。
3. 将结果写入变量 b。
``````

这仍然是同一个程序，但有一个至关重要的改进——

**因为我们不再需要直接操作内存地址，也就不需要手动追踪它们了**，这些繁琐而容易出错的工作被交给了编译器来完成。

现在，我们就可以这样来编写代码：

``````go
a := 6 
b := a * 3
``````

编译器会确保变量 **a** 和 **b** 被分配到 **彼此不同的内存地址**，并且在它们需要存在的整个生命周期内，都有足够的内存空间来存放各自的值。

## **什么是指针？**

既然我们已经知道：内存只是由一系列带编号的单元组成，而变量只是编译器为某个内存地址起的昵称，那么，**什么是指针呢？**

**指针是一种值，它指向另一个变量所在的内存地址。**

指针指向的是某个变量的内存地址，就像变量本身代表的是某个值所在的内存地址一样。

接下来，我们来看一段代码:

``````go
func main() { 
  a := 200 
  b := &a 
  *b++ 
  fmt.Println(a) 
}
``````

在 main 的第一行，我们声明了一个新变量 a，并赋值为 200。
![](https://www.helloimg.com/i/2026/01/04/6959dbad7b848.png)

接下来我们声明一个变量 b，并将 a 的地址赋给它。记住，我们并不知道 a 被存放的具体内存位置，但我们仍然可以把 a 的地址存储在 b 中。

第三行可能是最让人困惑的地方，因为 Go 是强类型语言。b 中存储的是变量 a 的地址，但我们想要修改 a 中存储的值。

![](https://www.helloimg.com/i/2026/01/04/6959dbf0db0ca.png)

为此，我们必须 **解引用** b，也就是沿着指针从 b 找到 a。

然后我们对该值加一，并把结果存回 b 指向的内存位置。

最后一行打印 a 的值，显示它已经增加到 201。

![](https://www.helloimg.com/i/2026/01/04/6959df2c9efe1.png)

![](https://www.helloimg.com/i/2026/01/04/6959df3266ae6.png)

## 总结

如果你来自一个没有指针概念的语言，或者一个所有变量默认都是指针的语言，不用慌——理解变量和指针之间的关系需要时间和练习。只要记住这条规则即可：

**指针是一个值，它指向另一个变量的内存地址。**